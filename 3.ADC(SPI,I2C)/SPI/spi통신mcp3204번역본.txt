*mcp 3208 datasheet  6.1부터 번역본*

대부분의 마이크로컨트롤러 SPI 포트에서는 8비트 그룹을 전송해야 합니다.
MCP3204/3208 장치와의 통신에는 8개의 클럭이 필요하지 않을 수 있으므로 
필요한 것보다 더 많은 클럭을 제공해야 합니다.

일반적으로 시작 비트 전에 '리딩 0'을 전송하여 수행됩니다.

그림 6-1은 MCU의 SCLK가 '낮음' 상태에서 유휴 상태여야 하는 
SPI 모드 0,0에서 보여지는 동작을 나타낸 반면

그림 6-2는 SPI 모드 1,1의 유사한 경우를 보여줍니다. '높음' 상태에서 유휴 상태입니다.

#####그림 6.1
그림 6-1에서 볼 수 있듯이 A/D 변환기로 전송된 첫 번째 바이트는 
시작 비트 이전에 5개의 선행 0을 포함합니다.
이러한 방식으로 선행 0을 정렬하면,
출력 12비트가 MCU에서 쉽게 조작할 수 있는 위치에 놓이게 됩니다.
MSB는 클럭 번호 12의 하강 에지에서 A/D 변환기에서 클럭됩니다.

두 번째 8개 클럭이 장치로 전송되면 
MCU의 수신 버퍼에 3개의 알 수 없는 비트가 포함됩니다(출력은 처음 두 클록)

세 번째 바이트가 장치로 전송되면 수신 레지스터에는 변환 결과의 최하위 8비트가 포함됩니다.

이 방법을 사용하면 변환된 데이터를 더 간단하게 조작할 수 있습니다.


************최소 클럭 속도 유지*****************6.2

MCP3204/3208이 샘플 주기를 시작하면 전하가 샘플 커패시터에 저장됩니다.
샘플 기간이 완료되면 장치는 수신된 각 클록에 대해 1비트를 변환합니다.
사용자가 느린 클록 속도는 변환이 일어나는 동안 
샘플 커패시터에서 전하가 빠져나갈 수 있다는 점에 유의하는 것이 중요합니다.

85°C(최악의 경우)에서 부품은 샘플 기간이 끝난 후 
최소 1.2ms 동안 샘플 커패시터에서 적절한 충전을 유지합니다.

이것은 샘플 기간의 끝과 모든 12개 데이터 비트가 클럭아웃된 시간 사이의 시간이 
1.2ms(10kHz의 유효 클럭 주파수)를 초과해서는 안 된다는 것을 의미합니다.
이 기준을 충족하지 못하면 정격 사양을 벗어난 변환에 선형성 오류가 발생할 수 있습니다.

전체 변환 주기 동안 A/D 변환기는 모든 타이밍 사양이 충족되는 한 
일정한 클록 속도나 듀티 주기가 필요하지 않습니다.


#### 아날로그 입력 버퍼링/필터링##############6.3

A/D 변환기의 신호 소스가 낮은 임피던스 소스가 아닌 경우 버퍼링해야 하거나 
부정확한 변환 결과가 발생할 수 있습니다(그림 4-2 참조).

MCP3204/3208의 아날로그 입력을 구동하기 위해 연산 증폭기를 사용하는 
그림 6-3에서와 같이 변환 결과로 다시 앨리어싱될 수 있는 모든 신호를 제거하기 위해 
필터를 사용할 것을 권장합니다.

이 증폭기는 컨버터 입력을 위한 저임피던스 소스와 원하지 않는 
고주파수 노이즈를 제거하는 저역 통과 필터를 제공합니다.

저역 통과(앤티 앨리어싱) 필터는 
Microchip의 무료 대화형 FilterLab® 소프트웨어를 사용하여 설계할 수 있습니다.

Filter Lab은 커패시터 및 저항 값을 계산하고 애플리케이션에 필요한 극 수를 결정합니다.

신호 필터링에 대한 자세한 내용은 AN699, 
"데이터 수집 시스템을 위한 앤티앨리어싱 아날로그 필터"를 참조하십시오.